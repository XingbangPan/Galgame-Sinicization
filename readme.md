# 1. 消息框
使用`cx233`大佬搭建好的gpt云翻软件`GalTransl`对galgame**消息**进行翻译。
> 以下是该轮翻译的碎碎念！
> - 此轮翻译文本量最大，即使使用AI翻译，翻译时长达到了**8**小时
> - 第一次翻译，不知道**字典**的重要性，导致人名翻译效果很差，下次要加上人名字典！
> - AI翻译需要成本，我大概花了3*4=**12**元的调用`openAI API`的价格。以及一整天的时间来熟悉`GalTransl`,并不停更换`API密钥`。
> - 由于目前openAI官方**严重限制速度以及单位时间请求数**，即翻译速度和多线程数，严重影响翻译速度。
> - 除了openAI官方的限制，自己第一次进行galgame的翻译工作的**经验不足**也是导致我消耗大量时间成本的原因之一

# 2. 图片
将设置界面的图片嵌入的日文翻译为中文
> 以下是该轮翻译的碎碎念！
> - 提取图片文本：BaiduOCR你就是个答辩！Google Lens才是永远的神。使用BaiduOCR识别基本没有全对的，用Google Lens识别基本没有一个错的！
> - 文本翻译，用Google翻译
> - 将中文文本P到原图上，耗时耗力，花了我约`3`小时，当然这是因为我第一次P图，一半时间耗费在学习操作上了。
> - 总结：什么年代了还在传统P图？直接用Google Lens自动识别并翻译，一步到位！人力`3`小时，Google Lens `3`**秒钟**

# 3. 选项

首先明白翻译分为3步
1. 提取
2. 翻译
3. 替换

需要提取翻译的原因：
1. 选项的正则提取规则和文本的正则提取规则有区别，所以选项未被提取出来。需要自己手动提取并翻译。 
2. `cx2333`提供的正则提取，无法对`utf-16`编码的`.ks`文件提取，而我在第一步结束后得到的`.ks`文件都是以`utf-16`编码保存
3. 选项多达`300`个，涉及`20`多个文件，如果用正则提取，再手动翻译，最后将中文选项手动放回去太耗费时间。

因此自己用python手写了`多文件正则提取`和`多文件正则替换`，将翻译过程的第1和第3步自动化，第2步则使用`GalTransl`进行云翻译

> 以下是该轮翻译的碎碎念！
> - 该轮是我**最满意**的一轮，原因有三
>   1. 这是我人生**首次**编写的自动化脚本，运用了自动化的思维并成功实现自动化，增强自信心
>   2. 学习了**知识**：学习用python正则提取和正则替换；学习用python处理多个文件以及各种基础知识
>   3. 显示个人思维**灵活性**，灵活使用`GalTransl`作为翻译过程的补足，**减少**了我再编写调用openAI自动化脚本的**成本**

# 4. 字体
第三轮结束后，发现中文选项字体大小不一，十分影响观感，于是去更改字体使得字体大小统一。
> 以下是该轮翻译的碎碎念！
> - 该轮一方面走了很多弯路，耗费了很多时间，另一方面在只有粗略指导教程的情况下一步步摸索，对于字体相关程序理解大大加深。这里要非常感谢`寄alTransl交流群`中大佬的点拨
> - 字体领域确实一直非常混乱，一些字体别说有跨平台能力，放到**不同的设备**就可能出现问题。我认为这很大程度上是因为字体领域的**不规范定义**导致的。我也只是一名爱好者，绝不敢说很懂，但是让我耗时耗力做了这么多无用功，我认为确实和字体领域的很多**概念的不清晰**有关系
> - 目前找到更换字体的最傻瓜方法：
>   1. 使用`krkrfont.exe`生成自己的字体`myFont.tft`
>   2. 将脚本文件中所有`.tft`文件名更改为自己的字体文件名`myFont.tft`
>
>   你**无需去看懂每一部分的字体设置程序**，而这恰恰是字体设置程序中最复杂的。你只需要更改源文件，相当于字体设置程序对你来说是黑盒状态，你只需要更改接口源文件

# 5. 转换脚本编码
将脚本编码做以下转换
`Shift-JIS` `-->` `UTF-16`

脚本常见格式为
1. `.ks`
2. `.tfs`

由于VScode不支持以指定编码保存多个文件，因此使用`EmEditor`工具，快速以指定编码保存多个文件

> 以下是该轮翻译的碎碎念！
> - 简单易懂
> - 所以你会忽视它的重要性！刚开始时我明知道格式错误会导致乱码，但我未将所有脚本保存为`UTF-16`格式，在下一轮中会因为格式问题而踩坑！

# 6. 系统互动

系统互动包括：
1. `save`、`load`确定互动
2. `Q.save`、`Q.load`确定互动
3. 返回`title`、`quit`确定互动
4. 设定初始化确定互动

这些系统互动的特点在于文本量少而查找方式不同，即**小而杂**。

再次给出第三点中的翻译流程：
1. 提取
2. 翻译
3. 替换

> 以下是该轮翻译的碎碎念！
>本轮翻译花费时间最长的是第一步：**提取**。所以你一定会用到查找功能,然而这里有一个坑:
>- 如果脚本文件以`Shift-JIS`编码，那么使用`vscode`无法查找到你需要的文本
>  - 在`Shift-JIS`编码上`vscode`的查找功能**失效**！
>  - 在`UTF-16`编码上`vscode`的查找功能**有效**  
> 
> 因此，回到第5轮，它显得尤为重要。当查找功能失效，你迟迟无法查找到你眼皮底下的文本，你会十分难受，不要问我为什么知道！

# 7. 总结
这是我第一次对galgame进行汉化工作。你会发现我用到了很多先进技术，包括但不限于
1. 人工智能 (AI) ：OpenAI API
2. 增强现实 (AR) : Google Lens
3. 机器翻译 (MT) : Google翻译
4. 软件开发 (IT) : Python
5. 计算机科学(CS): 正则表达式、字符编码

我也享受到了前辈们开源的成果，包括但不限于：
1. `GalTransl`云翻自动化脚本 : `cx2333`
2. 各位机翻大佬的点拨   ： 寄alTransl交流群
3. galgame汉化视频教程  ： Dir-A来自b站
4. 所有互联网上开源的资源！